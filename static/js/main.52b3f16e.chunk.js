(this["webpackJsonpyalantis-test"]=this["webpackJsonpyalantis-test"]||[]).push([[0],{40:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c,r=n(0),s=n.n(r),a=n(11),o=n.n(a),i=n(7),l=n(8),j=(n(40),n(16)),d=n.n(j),u=n(6),b=n(26),O=n(27),m=n.n(O);!function(e){e.GET_ALL="GET_ALL",e.TOGGLE_EMPLOYEE="TOGGLE_EMPLOYEE",e.GET_ALL_FROM_STORAGE="GET_ALL_FROM_STORAGE"}(c||(c={}));var p=n(1),f=function(e){var t=e.employee,n=(e.saveToStorage,Object(l.b)()),r=function(){var e;n((e=t.id,function(t){t({id:e,type:c.TOGGLE_EMPLOYEE})}))},s={color:t.selected?"blue":"black",fontSize:"20px"};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{style:s,children:[t.firstName," ",t.lastName]}),Object(p.jsxs)("form",{action:"",className:"form",children:[Object(p.jsxs)("div",{className:"label-input",children:[Object(p.jsx)("input",{type:"radio",checked:t.selected,onChange:r}),Object(p.jsx)("label",{htmlFor:"",children:"active"})]}),Object(p.jsxs)("div",{className:"label-input",children:[Object(p.jsx)("input",{type:"radio",checked:!t.selected,onChange:r}),Object(p.jsx)("label",{htmlFor:"",children:"not active"})]})]})]})},h=function(e){var t=e.letter,n=e.employees,c=e.saveToStorage;return 0===n.length?Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:t}),"No Employees"]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:t}),n.map((function(e){return Object(p.jsx)(f,{employee:e,saveToStorage:c},e.id)}))]},t)},y=(n(61),{fontSize:"16px"}),v=function(e){var t=e.employee,n=new Date(t.dob),c=n.getFullYear(),r=n.toLocaleString("default",{day:"numeric",month:"long"}).split(" "),s=Object(i.a)(r,2),a=s[0],o=s[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("p",{style:y,children:[t.firstName," ",t.lastName," - ",o," ",a,", ",c," year"]})})},x=function(e){var t=e.month,n=e.employees;return 0===n.length?Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:t}),"No Employees"]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:t}),n.map((function(e){return Object(p.jsx)(v,{employee:e},e.id)}))]})},E=function(){var e=Object(l.c)((function(e){return e.employees.employees})),t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)([]),o=Object(i.a)(a,2),j=o[0],d=o[1];Object(r.useEffect)((function(){var e=Array.from(Array(26)).map((function(e,t){return t+65})).map((function(e){return String.fromCharCode(e)}));s(e);for(var t=new Date("Wed Nov 24 2021 16:51:08 GMT+0200 (Eastern European Standard Time)"),n=[],c=0;c<12;c++){var r=t.toLocaleString("default",{month:"long"});n.push(r),t.setMonth(t.getMonth()+1)}d(n)}),[]);var u=function(){e&&e.length>0&&window.localStorage.setItem("employees",JSON.stringify(e))};Object(r.useEffect)((function(){u()}),[e]);var b=e.sort((function(e,t){return e.firstName.toLowerCase()>t.firstName.toLowerCase()?1:e.firstName.toLowerCase()<t.firstName.toLowerCase()?-1:0})),O=b.filter((function(e){return e.selected}));return Object(p.jsxs)("div",{className:"employee-container",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{style:{textAlign:"center"},children:"Employees"}),Object(p.jsx)("div",{className:"employee-list",children:c.map((function(e){var t=b.filter((function(t){return t.firstName[0]===e}));return Object(p.jsx)("div",{children:Object(p.jsx)(h,{letter:e,employees:t,saveToStorage:u},e)},e)}))})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{style:{textAlign:"center",borderBottom:"1px solid black"},children:"Employees Birthday"}),Object(p.jsx)("div",{className:"birthday-list",children:0===O.length?Object(p.jsx)("h4",{children:"Employees List is empty"}):j.map((function(e){var t=O.filter((function(t){return j[(new Date(t.dob).getMonth()-((new Date).getMonth()-12))%12]===e})).sort((function(e,t){return e.firstName.toLowerCase()<t.firstName.toLowerCase()?1:e.firstName.toLowerCase()>t.firstName.toLowerCase()?-1:0}));return Object(p.jsx)("div",{children:Object(p.jsx)(x,{month:e,employees:t})},e)}))})]})]})},L=n(29),g=n(2);var N=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){var t,n=JSON.parse(window.localStorage.getItem("employees")||"null");n?e((t=n,function(e){e({employees:t,type:c.GET_ALL_FROM_STORAGE})})):(console.log("api"),e(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 3:n=e.sent,r=n.data.map((function(e){return e.selected?e:Object(u.a)(Object(u.a)({},e),{},{selected:!1})})),t({employees:r,type:c.GET_ALL}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]),Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(L.a,{children:Object(p.jsxs)(g.d,{children:[Object(p.jsx)(g.b,{path:"/employees",element:Object(p.jsx)(E,{})}),Object(p.jsx)(g.b,{path:"*",element:Object(p.jsx)(g.a,{to:"/employees"})})]})})})},T=(n(62),n(13)),w=n(28),G={employees:[]},S=Object(T.b)({employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.GET_ALL:return console.log("asdasd"),Object(u.a)(Object(u.a)({},e),{},{employees:t.employees});case c.TOGGLE_EMPLOYEE:var n=e.employees.find((function(e){return e.id===t.id})),r=Object(u.a)(Object(u.a)({},n),{},{selected:!(null===n||void 0===n?void 0:n.selected)}),s=e.employees.map((function(e){return e.id===r.id?r:e}));return Object(u.a)(Object(u.a)({},e),{},{employees:s});case c.GET_ALL_FROM_STORAGE:return Object(u.a)(Object(u.a)({},e),{},{employees:t.employees});default:return e}}});var _=function(e){return Object(p.jsx)(l.a,{store:e.store,children:Object(p.jsx)(N,{})})},A=Object(T.c)(S,Object(T.a)(w.a));o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(_,{store:A})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.52b3f16e.chunk.js.map